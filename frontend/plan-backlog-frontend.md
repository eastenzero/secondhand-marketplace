# 前端 Backlog（MVP）

## 1 范围与说明
- 覆盖功能：注册/登录、商品与需求的列表/详情与发布、报价、留言、我的管理（更新/下架/删除），可选审核台。
- 依赖契约：以 backend/api-spec.md 为准；必要时先行 Mock（msw），再切换联调。
- 估算口径：工作日，开发+基本测试，按中等熟练度评估。

## 2 需求清单（按价值与依赖排序）

| ID | 工作项 | 类型 | 价值 | 依赖 | 预估 |
| --- | --- | --- | --- | --- | --- |
| F0 | 项目骨架/路由/样式/质量工具 | Tech | 高 | - | 1d |
| F1 | 认证（登录/注册） | Feat | 高 | F0, 后端B2 | 1.5d |
| F2 | 商品列表/详情 | Feat | 高 | F0, 后端B3/B4 | 2d |
| F3 | 发布商品 | Feat | 高 | F1, 后端B3 | 1.5d |
| F4 | 搜索/筛选/分页 | Feat | 中 | F2 | 1d |
| F5 | 需求列表/详情/发布 | Feat | 中 | F1, 后端B5 | 2d |
| F6 | 发起报价 | Feat | 高 | F1, 后端B6 | 1.5d |
| F7 | 留言（新增/列表） | Feat | 高 | F1, 后端B7 | 1d |
| F8 | 我的管理（更新/下架/删除） | Feat | 中 | F1, 后端B8 | 1.5d |
| F9 | 审核台（可选） | Feat | 中 | F1, 审核开关 | 1d |
| F10 | 错误码与日志统一 | Tech | 中 | F1 | 1d |
| F11 | 性能与A11y硬化 | Tech | 中 | F2–F8 | 1.5d |

## 3 Sprint 计划（两周/迭代）
- Sprint 1：F0–F3（登录/注册、商品列表/详情、发布商品）
- Sprint 2：F4–F8（搜索、需求对称、报价/留言、我的管理）
- 硬化周：F10–F11（错误码与日志统一、性能与A11y）+（可选）F9 审核台

## 4 里程碑
- FM1：认证可用（F1）
- FM2：商品主流程（F2–F3）
- FM3：互动闭环（F6–F7）
- FM4：验收（F8 + F10–F11）

## 5 风险与缓解
| 风险 | 影响 | 缓解/备选 |
| --- | --- | --- |
| 接口变更频繁 | 中 | OpenAPI/契约先行；msw Mock；版本化接口 |
| 登录态跨域/同站策略 | 高 | 反向代理同源；Cookie SameSite=Lax；本地/预发一致性演练 |
| 列表性能与体验 | 中 | 分页上限、虚拟滚动、图片懒加载；Skeleton/空态 |
| 表单易用性 | 中 | Zod/Yup 明确规则；错误聚合与定位；a11y 提示 |

## 6 验收（DoR/DoD）
- DoR：接口契约明确；UI 草图/交互说明具备；验收标准明确；Mock 数据就绪。
- DoD：代码合并；单/集成/E2E 通过；P95≤2s/A11y清单通过；文档更新；演示通过。

## 7 前端开发步骤与提示词目录

> 前端默认采用 React + TypeScript + Vite 技术栈，具体约定见 `frontend/前端开发计划.md`。
> 各步骤的详细 AI 提示词已拆分为单独 Markdown 文件，存放在 `frontend/prompts/` 目录下。
> 使用方式：根据当前要做的工作项 F0–F11，打开对应文件，将其中提示词内容复制给 AI 助手即可。

### F0. 项目骨架/路由/样式/质量工具

- **对应 Backlog**：F0 项目骨架/路由/样式/质量工具
- **目标**：搭建 React + TS + Vite 前端项目骨架，配置路由、样式体系（Tailwind等）与代码质量工具。
- **提示词文件**：`frontend/prompts/F0-project-skeleton-react-vite.md`

### F1. 认证（登录/注册）

- **对应 Backlog**：F1 认证（登录/注册）
- **目标**：实现登录/注册页面与流程，接入后端认证接口，管理前端登录态与受保护路由。
- **提示词文件**：`frontend/prompts/F1-auth-pages-react.md`

### F2. 商品列表/详情

- **对应 Backlog**：F2 商品列表/详情
- **目标**：实现商品列表与详情页面，展示商品基础信息并为后续报价/留言预留区域。
- **提示词文件**：`frontend/prompts/F2-items-list-detail-react.md`

### F3. 发布商品

- **对应 Backlog**：F3 发布商品
- **目标**：实现发布商品表单与交互，完成前端表单校验、提交以及与列表/详情的联动刷新。
- **提示词文件**：`frontend/prompts/F3-publish-item-react.md`

### F4. 搜索/筛选/分页

- **对应 Backlog**：F4 搜索/筛选/分页
- **目标**：在商品列表页实现关键词、分类、价格区间搜索与分页体验，做好性能与加载体验。
- **提示词文件**：`frontend/prompts/F4-items-search-filter-react.md`

### F5. 需求列表/详情/发布

- **对应 Backlog**：F5 需求列表/详情/发布
- **目标**：实现需求列表/详情/发布页面，逻辑与商品端对称，并复用通用组件与状态管理。
- **提示词文件**：`frontend/prompts/F5-demands-pages-react.md`

### F6. 发起报价

- **对应 Backlog**：F6 发起报价
- **目标**：在商品/需求详情页中实现发起报价的前端交互（弹窗/侧滑）、表单校验与错误处理。
- **提示词文件**：`frontend/prompts/F6-offer-ui-react.md`

### F7. 留言（新增/列表）

- **对应 Backlog**：F7 留言（新增/列表）
- **目标**：在详情页中实现留言列表与新增留言表单，处理分页、错误提示与刷新策略。
- **提示词文件**：`frontend/prompts/F7-comments-ui-react.md`

### F8. 我的管理（更新/下架/删除）

- **对应 Backlog**：F8 我的管理（更新/下架/删除）
- **目标**：实现 `/me/posts` 页面，支持对当前用户发布的商品/需求进行更新、下架与软删操作，并给出权限/状态提示。
- **提示词文件**：`frontend/prompts/F8-my-posts-management-react.md`

### F9. 审核台（可选）

- **对应 Backlog**：F9 审核台（可选）
- **目标**：实现管理员审核台页面，支持对 pending 状态的商品/需求进行审核操作，并做权限控制。
- **提示词文件**：`frontend/prompts/F9-admin-review-react.md`

### F10. 错误码与日志统一

- **对应 Backlog**：F10 错误码与日志统一
- **目标**：统一前端对后端错误码的处理与文案映射，接入 Axios 拦截器与全局错误展示机制。
- **提示词文件**：`frontend/prompts/F10-error-handling-logging-react.md`

### F11. 性能与 A11y 硬化

- **对应 Backlog**：F11 性能与A11y硬化
- **目标**：对现有前端进行性能与可访问性优化，完成性能指标与 A11y 清单。
- **提示词文件**：`frontend/prompts/F11-performance-a11y-react.md`
